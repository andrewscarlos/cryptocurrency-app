(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{7953:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cryptocurrency",function(){return n(5826)}])},5826:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var i=n(5893),a=n(7294),r=n(410),l=n(4386),s=n(3946),o=n(5616),d=n(7798),u=n(7120),c=n(4670),p=n(4229),f=n(1163),h=n(7220),x=n(469),g=n(657),m=n(7645),y=n(6580),j=n(6886),b=n(4054),S=n(1903),Z=n(1425),C=n(9417),N=n(9496);function v(e){let{handleClose:t,open:n,coinName:r,price:l}=e,s=(0,h.C)(x.sm),d=(0,h.T)(),{enqueueSnackbar:u}=(0,N.Ds)(),[c,p]=(0,a.useState)(""),[f,v]=(0,a.useState)(0),[w,A]=(0,a.useState)(""),[_,k]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{await v(Number(s.money));let e=!(isNaN(l)||isNaN(f))&&!(l<=0)&&!(f<0)&&(f/l).toFixed(4);e&&(A(e.toString()),p(l.toFixed(4).toString()))})()},[s,l,f]),(0,i.jsxs)(g.Z,{open:n,onClose:t,children:[(0,i.jsxs)(o.Z,{display:"flex",justifyContent:"center",children:[(0,i.jsx)(m.Z,{children:"Add in your Wallet"}),(0,i.jsxs)(m.Z,{children:["You Have $",f," in your wallet"]})]}),(0,i.jsx)(y.Z,{children:(0,i.jsx)(o.Z,{p:2,children:(0,i.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(j.ZP,{item:!0,xs:12,children:(0,i.jsx)(b.Z,{fullWidth:!0,children:(0,i.jsx)(S.Z,{label:"Coin Name",fullWidth:!0,value:r,disabled:!0})})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,children:(0,i.jsx)(b.Z,{fullWidth:!0,children:(0,i.jsx)(S.Z,{label:"Price",fullWidth:!0,value:l.toFixed(4),disabled:!0})})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,children:(0,i.jsx)(b.Z,{fullWidth:!0,children:(0,i.jsx)(S.Z,{name:"quantity",label:"Quantity you will buy",fullWidth:!0,value:w,onChange:function(e){let{value:t}=e.target,n=Number(t);if(!isNaN(n)&&n>=0){let e=n*Number(c);if(e<=f){k(!1),A(n.toString()),v(f-e);return}k(!0),u("Saldo insuficiente. Voc\xea n\xe3o possui dinheiro suficiente para comprar essa quantidade de criptomoeda.",{variant:"error"});return}k(!0),u("Entrada inv\xe1lida. Insira um valor num\xe9rico n\xe3o negativo.",{variant:"error"})},type:"number",error:_})})})]})})}),(0,i.jsxs)(Z.Z,{children:[(0,i.jsx)(C.Z,{onClick:t,variant:"contained",children:"Back"}),(0,i.jsx)(C.Z,{onClick:()=>{u("".concat(r," Adicionado a carteira com sucesso"),{variant:"success"}),d((0,x.DY)({coinName:r,value:f})),t()},variant:"contained",disabled:_,children:"Add"})]})]})}let w={toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:500}}},A={toolbar:d.n},_=[10,25,50,100],k=e=>e.map((e,t)=>({name:e.name,id:e.id,symbol:e.symbol,slug:e.slug,dateAdded:new Date(e.date_added).toLocaleDateString("pt-BR"),lastUpdate:new Date(e.last_updated).toLocaleDateString("pt-BR"),index:t,price:e.quote.USD.price}));var P=function(){let e=(0,f.useRouter)(),[t,n]=(0,a.useState)({page:0,pageSize:10}),{data:d,isFetching:h}=(0,r.nd)(),[x,g]=(0,a.useState)(!1),[m,y]=(0,a.useState)(""),[j,b]=(0,a.useState)(0);function S(){g(!x)}let Z=(null==d?void 0:d.data)?k(d.data):[],C=[{field:"name",headerName:"Name",flex:1},{field:"dateAdded",headerName:"Add At",flex:1},{field:"lastUpdate",headerName:"Updated At",flex:1},{field:"slug",headerName:"Slug",flex:1},{field:"symbol",headerName:"Symbol",flex:1},{field:"index",headerName:"Actions",type:"string",flex:1,renderCell:function(t){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{title:"Datails",arrow:!0,children:(0,i.jsx)(s.Z,{color:"secondary","aria-label":"delete",onClick:()=>e.push("/cryptocurrency/".concat(t.id)),children:(0,i.jsx)(p.Z,{})})}),(0,i.jsx)(l.Z,{title:"Add on your Wallet",arrow:!0,children:(0,i.jsx)(s.Z,{color:"secondary","aria-label":"Add Wallet",onClick:()=>{y(t.row.name),b(t.row.price),S()},children:(0,i.jsx)(c.Z,{})})}),x&&(0,i.jsx)(v,{handleClose:S,open:x,coinName:m,price:j})]})}}],N={pagination:{paginationModel:{pageSize:t.pageSize,page:t.page}}},P=Z.length||0;return(0,i.jsx)(o.Z,{sx:{display:"flex",height:700},children:(0,i.jsx)(u._$,{rows:Z,columns:C,slots:A,slotProps:w,disableColumnFilter:!0,disableColumnSelector:!0,disableDensitySelector:!0,disableRowSelectionOnClick:!0,disableColumnMenu:!0,initialState:N,onPaginationModelChange:function(e){n({page:e.page+1,pageSize:e.pageSize})},rowCount:P,pageSizeOptions:_,loading:h})})}},410:function(e,t,n){"use strict";function i(){return""}function a(e){let{id:t}=e;return t}function r(){return"/getByPrice"}n.d(t,{DJ:function(){return s},nd:function(){return l},sV:function(){return o}});let{useGetCryptoAssetsQuery:l,useGetCryptoAssetsByIdQuery:s,useGetByPriceQuery:o}=n(2925).g.injectEndpoints({endpoints:e=>{let{query:t}=e;return{getCryptoAssets:t({query:i,providesTags:["CryptoAsset"]}),getCryptoAssetsById:t({query:a,providesTags:["CryptoAsset"]}),getByPrice:t({query:r,providesTags:["CryptoAsset"]})}}})},7220:function(e,t,n){"use strict";n.d(t,{C:function(){return r},T:function(){return a}});var i=n(5007);let a=()=>(0,i.I0)(),r=i.v9}},function(e){e.O(0,[350,120,886,368,774,888,179],function(){return e(e.s=7953)}),_N_E=e.O()}]);